<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#d41528" />
  <meta name="description" content="Asesor Claro - Asistente IA avanzado para plataformas Core" />
  <link rel="manifest" href="/static/manifest.json" />
  <link rel="stylesheet" href="/static/style.css" />
  <link rel="icon" href="/static/claro-logo.png" type="image/png" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <title>Asesor Claro - IA Avanzada</title>
</head>
<body>
  <!-- Video de fondo -->
  <video autoplay muted loop id="bg-video">
    <source src="/static/background.mp4" type="video/mp4" />
    <!-- Fallback para navegadores que no soporten el video -->
    <div class="video-fallback"></div>
  </video>

  <!-- Overlay con efectos -->
  <div class="overlay"></div>

  <!-- Partículas flotantes -->
  <div id="particles-js"></div>

  <!-- Logo mejorado -->
  <img src="/static/claro-logo.png" alt="Logo Claro" class="logo" />

  <!-- Indicador de estado del sistema -->
  <div class="system-status">
    <div class="status-indicator" id="status-indicator"></div>
    <span id="status-text">Sistema Operativo</span>
  </div>

  <!-- Pantalla de bienvenida -->
  <div class="welcome-screen">
    <h1>Asesor Claro</h1>
    <p>Asistente IA avanzado para plataformas Core</p>
    <div class="sparkle" style="top: 20%; left: 30%;"></div>
    <div class="sparkle" style="top: 60%; right: 20%;"></div>
    <div class="sparkle" style="top: 40%; right: 40%;"></div>
  </div>

  <!-- Notificaciones -->
  <div id="notifications-container"></div>

  <!-- Burbuja de chat -->
  <div class="chat-bubble" id="chat-bubble">
    <span>💬</span>
  </div>

  <!-- Contenedor de chat avanzado -->
  <div class="chat-container" id="chat-container">
    <div class="chat-header">
      <div class="chat-status">
        <div class="ai-indicator" id="ai-indicator"></div>
        <span>Asesor IA Claro</span>
      </div>
      <button class="expand-chat" id="expand-chat">⤢</button>
    </div>

    <div class="chat-messages" id="chat-messages">
      <!-- Los mensajes se cargarán dinámicamente aquí -->
    </div>

    <div class="quick-actions">
      <button class="quick-btn" onclick="sendQuickAction('estado sistema')">📊 Estado</button>
      <button class="quick-btn" onclick="sendQuickAction('emergencia')">🚨 Emergencia</button>
      <button class="quick-btn" onclick="sendQuickAction('dashboard')">📈 Dashboard</button>
      <button class="quick-btn" onclick="sendQuickAction('alarmas')">⚠️ Alarmas</button>
    </div>

    <form class="chat-input-form" id="chat-form">
      <input type="text" id="chat-input" placeholder="Escribe tu mensaje o comando..." autocomplete="off" />
      <button type="submit" id="send-btn">Enviar</button>
    </form>
  </div>

  <!-- Panel de métricas -->
  <div class="metrics-overlay" id="metrics-overlay">
    <div class="metrics-panel">
      <h2>📊 Métricas del Sistema</h2>
      <div class="metrics-grid" id="metrics-content">
        <!-- Las métricas se cargarán aquí -->
      </div>
      <button class="close-metrics" onclick="closeMetrics()">Cerrar</button>
    </div>
  </div>

  <!-- Scripts -->
  <script src="/static/main.js"></script>
</body>
</html>