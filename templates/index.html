// Advanced features
        const featuresBtn = document.getElementById('features-btn');
        const featuresPanel = document.getElementById('features-panel');
        const featuresClose = document.getElementById('features-close');
        const notificationsBtn = document.getElementById('notifications-btn');
        const notificationCenter = document.getElementById('notification-center');
        const notificationsClose = document.getElementById('notifications-close');

        // Features panel toggle
        featuresBtn.addEventListener('click', () => {
            featuresPanel.style.display = featuresPanel.style.display === 'block' ? 'none' : 'block';
            notificationCenter.style.display = 'none';
        });

        featuresClose.addEventListener('click', () => {
            featuresPanel.style.display = 'none';
        });

        // Notifications panel toggle
        notificationsBtn.addEventListener('click', () => {
            notificationCenter.style.display = notificationCenter.style.display === 'block' ? 'none' : 'block';
            featuresPanel.style.display = 'none';
        });

        notificationsClose.addEventListener('click', () => {
            notificationCenter.style.display = 'none';
        });

        // Feature handlers
        document.addEventListener('click', (e) => {
            if (e.target.closest('.feature-item')) {
                const feature = e.target.closest('.feature-item').dataset.feature;
                handleAdvancedFeature(feature);
                featuresPanel.style.display = 'none';
            }
        });

        // Advanced feature implementations
        function handleAdvancedFeature(feature) {
            const featureContent = {
                'topology': {
                    title: 'üåê **Topolog√≠a de Red en Tiempo Real**',
                    content: createNetworkTopology()
                },
                'analytics': {
                    title: 'üìä **Analytics Avanzado del Sistema**',
                    content: createPerformanceCharts()
                },
                'terminal': {
                    title: 'üíª **Terminal SSH Enterprise**',
                    content: createSSHTerminal()
                },
                'security': {
                    title: 'üõ°Ô∏è **Security Operations Center**',
                    content: createSecurityDashboard()
                },
                'ai-analysis': {
                    title: 'üß† **An√°lisis Predictivo con IA**',
                    content: createAIAnalysis()
                },
                'automation': {
                    title: '‚öôÔ∏è **Centro de Automatizaci√≥n**',
                    content: createAutomationCenter()
                }
            };

            if (featureContent[feature]) {
                showTyping();
                setTimeout(() => {
                    hideTyping();
                    addAdvancedMessage(featureContent[feature].title, featureContent[feature].content);
                }, 1500);
            }
        }

        // Create network topology visualization
        function createNetworkTopology() {
            return `
                <div class="network-topology">
                    <div class="topology-node critical" style="top: 50px; left: 50px;" data-node="R1">R1</div>
                    <div class="topology-node normal" style="top: 50px; left: 150px;" data-node="R2">R2</div>
                    <div class="topology-node warning" style="top: 50px; left: 250px;" data-node="R3">R3</div>
                    <div class="topology-node normal" style="top: 150px; left: 100px;" data-node="SW1">SW1</div>
                    <div class="topology-node normal" style="top: 150px; left: 200px;" data-node="SW2">SW2</div>
                    <div class="topology-connection active" style="top: 70px; left: 90px; width: 60px;"></div>
                    <div class="topology-connection failed" style="top: 70px; left: 190px; width: 60px;"></div>
                    <div class="topology-connection active" style="top: 90px; left: 70px; width: 80px; transform: rotate(45deg);"></div>
                </div>
                <div style="margin-top: 16px;">
                    <strong>Estado de Nodos:</strong><br>
                    üî¥ R1: Cr√≠tico - Alta latencia<br>
                    üü¢ R2: Normal - Operativo<br>
                    üü° R3: Advertencia - Carga elevada<br>
                    üü¢ SW1-SW2: Normales<br><br>
                    <strong>Conectividad:</strong><br>
                    ‚Ä¢ R1-R2: Activo (1.2 Gbps)<br>
                    ‚Ä¢ R2-R3: Fallo - Enlace ca√≠do<br>
                    ‚Ä¢ R1-SW1: Activo (850 Mbps)
                </div>
            `;
        }

        // Create performance charts
        function createPerformanceCharts() {
            return `
                <div class="chart-container">
                    <div class="chart-line" style="background: linear-gradient(45deg, rgba(34,197,94,0.3) 0%, rgba(212,21,40,0.3) 100%);"></div>
                    <div style="position: absolute; top: 10px; left: 10px; font-size: 12px; color: white;">
                        <strong>CPU Usage - √öltimas 24h</strong>
                    </div>
                    <div style="position: absolute; bottom: 10px; right: 10px; font-size: 10px; color: #64748b;">
                        Peak: 89% | Avg: 34% | Current: 42%
                    </div>
                </div>
                
                <div class="advanced-controls">
                    <div class="control-button" data-chart="network">
                        <div class="control-icon"><i class="fas fa-network-wired"></i></div>
                        <div class="control-label">Tr√°fico Red</div>
                    </div>
                    <div class="control-button" data-chart="memory">
                        <div class="control-icon"><i class="fas fa-memory"></i></div>
                        <div class="control-label">Uso Memoria</div>
                    </div>
                    <div class="control-button" data-chart="disk">
                        <div class="control-icon"><i class="fas fa-hdd"></i></div>
                        <div class="control-label">I/O Disco</div>
                    </div>
                    <div class="control-button" data-chart="alerts">
                        <div class="control-icon"><i class="fas fa-exclamation-triangle"></i></div>
                        <div class="control-label">Alertas/Hora</div>
                    </div>
                </div>
                
                **M√©tricas Avanzadas:**
                ‚Ä¢ Throughput promedio: 847 Mbps
                ‚Ä¢ Jitter de red: 2.3ms (Excelente)
                ‚Ä¢ Packet loss: 0.001% (√ìptimo)
                ‚Ä¢ Response time: 15ms (Muy bueno)
            `;
        }

        // Create SSH terminal
        function createSSHTerminal() {
            return `
                <div class="terminal-container">
                    <div class="terminal-header">
                        <div class="terminal-dot red"></div>
                        <div class="terminal-dot yellow"></div>
                        <div class="terminal-dot green"></div>
                        <span style="color: white; font-size: 12px; margin-left: 8px;">core-enterprise-terminal</span>
                    </div>
                    <div class="terminal-content" id="terminal-content">
                        <div><span class="terminal-prompt">admin@core-system:~$</span> <span class="terminal-command">show system status</span></div>
                        <div class="terminal-output">System Status: OPERATIONAL</div>
                        <div class="terminal-output">Uptime: 47 days, 12:34:15</div>
                        <div class="terminal-output">Load Average: 0.42, 0.38, 0.41</div>
                        <div class="terminal-output">Memory: 67% used (12.8GB/19.2GB)</div>
                        <div class="terminal-output">Disk: 34% used (2.1TB/6.0TB)</div>
                        <div><span class="terminal-prompt">admin@core-system:~$</span> <span class="terminal-command">ping -c 3 gateway.core.local</span></div>
                        <div class="terminal-output">PING gateway.core.local (192.168.1.1): 56 bytes</div>
                        <div class="terminal-output">64 bytes from 192.168.1.1: icmp_seq=1 time=1.2ms</div>
                        <div class="terminal-output">64 bytes from 192.168.1.1: icmp_seq=2 time=1.1ms</div>
                        <div class="terminal-output">64 bytes from 192.168.1.1: icmp_seq=3 time=1.3ms</div>
                        <div><span class="terminal-prompt">admin@core-system:~$</span> <span style="animation: blink 1s infinite;">‚ñà</span></div>
                    </div>
                </div>
                
                <div class="advanced-controls">
                    <div class="control-button" data-cmd="logs">
                        <div class="control-icon"><i class="fas fa-file-alt"></i></div>
                        <div class="control-label">Ver Logs</div>
                    </div>
                    <div class="control-button" data-cmd="processes">
                        <div class="control-icon"><i class="fas fa-tasks"></i></div>
                        <div class="control-label">Procesos</div>
                    </div>
                    <div class="control-button" data-cmd="network">
                        <div class="control-icon"><i class="fas fa-ethernet"></i></div>
                        <div class="control-label">Red Config</div>
                    </div>
                    <div class="control-button" data-cmd="restart">
                        <div class="control-icon"><i class="fas fa-redo"></i></div>
                        <div class="control-label">Restart Svc</div>
                    </div>
                </div>
            `;
        }

        // Create security dashboard
        function createSecurityDashboard() {
            return `
                <div class="security-widget">
                    <div class="security-header">
                        <i class="fas fa-shield-alt" style="color: #22c55e;"></i>
                        <strong>Security Operations Center</strong>
                    </div>
                    
                    <div class="security-status">
                        <div class="security-level">
                            <div class="security-indicator high"></div>
                            <span>Firewall Status</span>
                        </div>
                        <span style="color: #22c55e;">PROTEGIDO</span>
                    </div>
                    
                    <div class="security-status">
                        <div class="security-level">
                            <div class="security-indicator high"></div>
                            <span>Antivirus Engine</span>
                        </div>
                        <span style="color: #22c55e;">ACTUALIZADO</span>
                    </div>
                    
                    <div class="security-status">
                        <div class="security-level">
                            <div class="security-indicator medium"></div>
                            <span>Intrusion Detection</span>
                        </div>
                        <span style="color: #f59e0b;">MONITOREANDO</span>
                    </div>
                    
                    <div class="security-status">
                        <div class="security-level">
                            <div class="security-indicator low"></div>
                            <span>VPN Connections</span>
                        </div>
                        <span style="color: #ef4444;">3 FALLIDAS</span>
                    </div>
                </div>
                
                **üö® Eventos de Seguridad (√öltimas 24h):**
                ‚Ä¢ Intentos de acceso bloqueados: 847
                ‚Ä¢ Malware detectado y neutralizado: 12
                ‚Ä¢ Actualizaciones de seguridad: 3
                ‚Ä¢ Conexiones VPN exitosas: 2,341
                
                **üîç An√°lisis de Amenazas:**
                ‚Ä¢ IPs bloqueadas: 156 (geograf√≠a: 67% Asia, 23% Europa)
                ‚Ä¢ Patrones de ataque: Fuerza bruta SSH (45%), Web scraping (31%)
                ‚Ä¢ Nivel de riesgo actual: MEDIO-BAJO
            `;
        }

        // Create AI analysis
        function createAIAnalysis() {
            return `
                <div class="ai-analysis">
                    <div class="ai-header">
                        <i class="fas fa-brain ai-brain"></i>
                        <strong>Motor de Inteligencia Artificial</strong>
                    </div>
                    
                    <div class="ai-insights">
                        <div class="ai-insight">
                            <i class="fas fa-chart-line insight-icon"></i>
                            <span class="insight-text">Predicci√≥n: Pico de tr√°fico en 2.3 horas (94% confianza)</span>
                        </div>
                        <div class="ai-insight">
                            <i class="fas fa-exclamation-triangle insight-icon"></i>
                            <span class="insight-text">Anomal√≠a detectada: Router-03 patr√≥n inusual (+15% CPU)</span>
                        </div>
                        <div class="ai-insight">
                            <i class="fas fa-lightbulb insight-icon"></i>
                            <span class="insight-text">Recomendaci√≥n: Optimizar cache DNS (mejora estimada: +8%)</span>
                        </div>
                        <div class="ai-insight">
                            <i class="fas fa-shield-alt insight-icon"></i>
                            <span class="insight-text">Seguridad: 3 IPs sospechosas agregadas a blacklist</span>
                        </div>
                    </div>
                </div>
                
                **ü§ñ An√°lisis Predictivo Avanzado:**
                
                **Modelo de Machine Learning:**
                ‚Ä¢ Algoritmo: Deep Neural Network + LSTM
                ‚Ä¢ Dataset: 2.3M eventos hist√≥ricos
                ‚Ä¢ Precisi√≥n actual: 94.7%
                ‚Ä¢ √öltima actualizaci√≥n: Hace 15 minutos
                
                **Predicciones para las pr√≥ximas 6 horas:**
                ‚Ä¢ üî¥ 15:30 - Probable congesti√≥n en enlace troncal (89% probabilidad)
                ‚Ä¢ üü° 17:45 - Incremento de tr√°fico web (+35% estimado)
                ‚Ä¢ üü¢ 19:20 - Ventana √≥ptima para mantenimiento
                ‚Ä¢ üî¥ 21:00 - Riesgo de fallo en DB-Secondary (67% probabilidad)
                
                **Acciones Recomendadas por IA:**
                1. Activar balanceador de carga preventivo
                2. Incrementar cache de CDN en 25%
                3. Programar backup adicional de DB-Secondary
                4. Notificar al equipo NOC sobre ventana de mantenimiento
            `;
        }

        // Create automation center
        function createAutomationCenter() {
            return `
                <div class="advanced-controls">
                    <div class="control-button" data-automation="backup">
                        <div class="control-icon"><i class="fas fa-save"></i></div>
                        <div class="control-label">Backup Auto</div>
                    </div>
                    <div class="control-button" data-automation="scaling">
                        <div class="control-icon"><i class="fas fa-expand-arrows-alt"></i></div>
                        <div class="control-label">Auto Scaling</div>
                    </div>
                    <div class="control-button" data-automation="healing">
                        <div class="control-icon"><i class="fas fa-magic"></i></div>
                        <div class="control-label">Self Healing</div>
                    </div>
                    <div class="control-button" data-automation="optimization">
                        <div class="control-icon"><i class="fas fa-tachometer-alt"></i></div>
                        <div class="control-label">Optimizar</div>
                    </div>
                </div>
                
                **ü§ñ Scripts de Automatizaci√≥n Activos:**
                
                **üìã Workflows en Ejecuci√≥n:**
                ‚Ä¢ **AUTO-BACKUP-001**: Backup incremental cada 4 horas ‚úÖ
                ‚Ä¢ **SCALE-MONITOR-002**: Monitoreo de carga y escalamiento ‚úÖ  
                ‚Ä¢ **SEC-PATROL-003**: Patrullaje de seguridad autom√°tico ‚úÖ
                ‚Ä¢ **HEAL-NETWORK-004**: Auto-recuperaci√≥n de enlaces üîÑ
                
                **‚ö° Triggers Configurados:**
                ‚Ä¢ CPU > 85% ‚Üí Escalamiento autom√°tico de recursos
                ‚Ä¢ Latencia > 100ms ‚Üí Optimizaci√≥n de rutas
                ‚Ä¢ Disco > 90% ‚Üí Limpieza autom√°tica de logs
                ‚Ä¢ Memoria > 95% ‚Üí Reinicio inteligente de servicios
                
                **üìä Estad√≠sticas de Automatizaci√≥n:**
                ‚Ä¢ Incidentes auto-resueltos hoy: 23
                ‚Ä¢ Tiempo promedio de recuperaci√≥n: 43 segundos
                ‚Ä¢ Eficiencia de automatizaci√≥n: 97.3%
                ‚Ä¢ Intervenciones manuales evitadas: 156
                
                **üîÆ Pr√≥ximas Automatizaciones:**
                ‚Ä¢ 16:00 - Optimizaci√≥n de base de datos
                ‚Ä¢ 18:30 - Rotaci√≥n autom√°tica de logs
                ‚Ä¢ 02:00 - Mantenimiento preventivo programado
                ‚Ä¢ 03:15 - Actualizaci√≥n de certificados SSL
            `;
        }

        // Add advanced message with interactive content
        function addAdvancedMessage(title, content) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message bot';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.innerHTML = '<i class="fas fa-robot"></i>';
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            contentDiv.innerHTML = `
                ${title.replace(/\n/g, '<br>')}
                <br><br>
                ${content.replace(/\n/g, '<br>')}
            `;
            
            const timeDiv = document.createElement('div');
            timeDiv.className = 'message-time';
            timeDiv.textContent = new Date().toLocaleTimeString();
            
            contentDiv.appendChild(timeDiv);
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(contentDiv);
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Add event listeners for interactive elements
            addInteractiveListeners(messageDiv);
        }

        // Add interactive listeners to advanced content
        function addInteractiveListeners(messageElement) {
            // Topology node clicks
            const topologyNodes = messageElement.querySelectorAll('.topology-node');
            topologyNodes.forEach(node => {
                node.addEventListener('click', () => {
                    const nodeId = node.dataset.node;
                    showNodeDetails(nodeId);
                });
            });
            
            // Control button clicks
            const controlButtons = messageElement.querySelectorAll('.control-button');
            controlButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const action = button.dataset.chart || button.dataset.cmd || button.dataset.automation;
                    if (action) {
                        handleControlAction(action);
                    }
                });
            });
        }

        // Handle node details
        function showNodeDetails(nodeId) {
            const nodeDetails = {
                'R1': 'üî¥ **Router R1 - Estado Cr√≠tico**\n\n‚Ä¢ IP: 192.168.1.1\n‚Ä¢ Modelo: Cisco ASR 9000\n‚Ä¢ CPU: 89% (Cr√≠tico)\n‚Ä¢ Memoria: 67%\n‚Ä¢ Interfaces: 24/24 activas\n‚Ä¢ Latencia promedio: 187ms\n‚Ä¢ Packet loss: 2.1%\n\n**Problema:** Congesti√≥n en enlace principal\n**Acci√≥n requerida:** Escalamiento inmediato',
                'R2': 'üü¢ **Router R2 - Estado Normal**\n\n‚Ä¢ IP: 192.168.1.2\n‚Ä¢ Modelo: Cisco ASR 9000\n‚Ä¢ CPU: 34%\n‚Ä¢ Memoria: 45%\n‚Ä¢ Interfaces: 24/24 activas\n‚Ä¢ Latencia promedio: 12ms\n‚Ä¢ Packet loss: 0.01%\n\n**Estado:** Todos los par√°metros normales',
                'R3': 'üü° **Router R3 - Advertencia**\n\n‚Ä¢ IP: 192.168.1.3\n‚Ä¢ Modelo: Cisco ASR 9000\n‚Ä¢ CPU: 78% (Alto)\n‚Ä¢ Memoria: 82%\n‚Ä¢ Interfaces: 23/24 activas\n‚Ä¢ Latencia promedio: 45ms\n‚Ä¢ Packet loss: 0.8%\n\n**Advertencia:** Carga elevada, monitoreo activo'
            };
            
            if (nodeDetails[nodeId]) {
                addMessage(nodeDetails[nodeId], 'bot');
            }
        }

        // Handle control actions
        function handleControlAction(action) {
            const controlResponses = {
                'network': 'üìä **Gr√°fico de Tr√°fico de Red**\n\nThroughput actual: 1.2 Gbps\nPico m√°ximo hoy: 1.8 Gbps (14:32)\nTr√°fico entrante: 687 Mbps\nTr√°fico saliente: 534 Mbps\n\nTendencia: Incremento sostenido del 12% en las √∫ltimas 2 horas',
                'memory': 'üíæ **An√°lisis de Uso de Memoria**\n\nMemoria total: 32 GB\nEn uso: 21.6 GB (67.5%)\nCache: 8.2 GB\nBuffer: 2.1 GB\nLibre: 10.4 GB\n\nProcesos top:\n‚Ä¢ MySQL: 4.2 GB\n‚Ä¢ Apache: 3.1 GB\n‚Ä¢ Core App: 2.8 GB',
                'disk': 'üíø **An√°lisis de I/O de Disco**\n\nLecturas/seg: 2,341\nEscrituras/seg: 1,876\nLatencia promedio: 3.2ms\nThroughput: 187 MB/s\n\nDiscos m√°s activos:\n‚Ä¢ /dev/sda1: 67% I/O\n‚Ä¢ /dev/sdb1: 23% I/O',
                'alerts': 'üö® **An√°lisis de Alertas por Hora**\n\n√öltima hora: 23 alertas\nPromedio 24h: 18 alertas/hora\nPico m√°ximo: 47 alertas (13:00-14:00)\n\nTipos m√°s frecuentes:\n‚Ä¢ CPU alto: 34%\n‚Ä¢ Latencia red: 28%\n‚Ä¢ Memoria: 21%\n‚Ä¢ Disco: 17%',
                'logs': 'üìÑ **Logs del Sistema (√öltimas 10 l√≠neas)**\n\n```\n2025-01-25 15:42:13 [INFO] Service restart completed\n2025-01-25 15:42:10 [WARN] High CPU usage detected\n2025-01-25 15:41:55 [INFO] Backup process started\n2025-01-25 15:41:32 [ERROR] Connection timeout to DB\n2025-01-25 15:41:15 [INFO] User admin logged in\n```',
                'processes': '‚öôÔ∏è **Procesos del Sistema**\n\n```\nPID    CPU%   MEM%   COMMAND\n1234   15.2   8.1    mysql\n5678   12.4   6.3    apache2\n9012   8.7    4.2    core-app\n3456   5.1    2.8    nginx\n7890   3.2    1.9    ssh\n```',
                'backup': 'üíæ **Backup Autom√°tico Iniciado**\n\nüîÑ Procesando...\n‚Ä¢ Base de datos: Respaldando (23%)\n‚Ä¢ Archivos de configuraci√≥n: ‚úÖ Completado\n‚Ä¢ Logs del sistema: ‚úÖ Completado\n‚Ä¢ Certificados: ‚úÖ Completado\n\nTiempo estimado: 8 minutos\nTama√±o estimado: 2.3 GB',
                'scaling': 'üìà **Auto Scaling Activado**\n\nüöÄ Escalamiento en progreso...\n‚Ä¢ CPU threshold: 85% alcanzado\n‚Ä¢ Instancias adicionales: +2 servidores\n‚Ä¢ Load balancer: Configurado\n‚Ä¢ Health checks: Activados\n\nETA para completar: 3 minutos\nCapacidad adicional: +40%',
                'healing': 'üîß **Self-Healing Ejecut√°ndose**\n\nüõ†Ô∏è Reparaciones autom√°ticas:\n‚Ä¢ Reinicio de servicio Apache: ‚úÖ Completado\n‚Ä¢ Limpieza de memoria cache: ‚úÖ Completado\n‚Ä¢ Reconexi√≥n a DB: üîÑ En progreso\n‚Ä¢ Optimizaci√≥n de consultas: ‚è≥ Pendiente\n\nServicios restaurados: 3/4',
                'optimization': '‚ö° **Optimizaci√≥n del Sistema**\n\nüéØ Mejoras aplicadas:\n‚Ä¢ Cache DNS optimizado: +12% rendimiento\n‚Ä¢ Consultas DB indexadas: +18% velocidad\n‚Ä¢ Compresi√≥n activada: -23% ancho banda\n‚Ä¢ Ruteo optimizado: -15ms latencia\n\n‚úÖ Optimizaci√≥n completada\nMejora general: +15% rendimiento'
            };
            
            if (controlResponses[action]) {
                showTyping();
                setTimeout(() => {
                    hideTyping();
                    addMessage(controlResponses[action], 'bot');
                }, 1200);
            }
        }<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Core Enterprise - Claro Colombia</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 100%);
            color: #ffffff;
            overflow-x: hidden;
        }

        /* Fixed Header */
        .header-fixed {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(15, 20, 25, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(212, 21, 40, 0.3);
            z-index: 1000;
            padding: 12px 24px;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-img {
            width: 40px;
            height: 40px;
            background: #d41528;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
        }

        .brand-info h1 {
            font-size: 18px;
            font-weight: 700;
            color: #ffffff;
        }

        .brand-info p {
            font-size: 12px;
            color: #64748b;
        }

        .system-status {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 12px;
            background: rgba(34, 197, 94, 0.1);
            border: 1px solid rgba(34, 197, 94, 0.3);
            border-radius: 20px;
            font-size: 12px;
            color: #22c55e;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #22c55e;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Main Content */
        .main-container {
            margin-top: 80px;
            padding: 40px 24px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-section {
            text-align: center;
            margin-bottom: 60px;
        }

        .hero-title {
            font-size: 48px;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff 0%, #d41528 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 16px;
        }

        .hero-subtitle {
            font-size: 20px;
            color: #64748b;
            margin-bottom: 32px;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 24px;
            margin-bottom: 60px;
        }

        .metric-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 24px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .metric-value {
            font-size: 32px;
            font-weight: 700;
            color: #d41528;
            margin-bottom: 8px;
        }

        .metric-label {
            font-size: 14px;
            color: #64748b;
        }

        /* Chatbot Bubble */
        .chat-bubble {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, #d41528 0%, #b91c3c 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 8px 32px rgba(212, 21, 40, 0.4);
            z-index: 1001;
            transition: all 0.3s ease;
        }

        .chat-bubble:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 40px rgba(212, 21, 40, 0.6);
        }

        .chat-bubble i {
            font-size: 24px;
            color: white;
        }

        .notification-badge {
            position: absolute;
            top: -6px;
            right: -6px;
            background: #22c55e;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 600;
        }

        /* Chat Window */
        .chat-window {
            position: fixed;
            bottom: 100px;
            right: 24px;
            width: 420px;
            height: 600px;
            background: rgba(15, 20, 25, 0.98);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(20px);
            z-index: 1002;
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-header {
            padding: 20px;
            background: linear-gradient(135deg, #d41528 0%, #b91c3c 100%);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .chat-avatar {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-avatar i {
            font-size: 18px;
            color: white;
        }

        .chat-title-section h3 {
            font-size: 16px;
            font-weight: 600;
            color: white;
            margin-bottom: 2px;
        }

        .chat-title-section p {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.8);
        }

        .chat-controls {
            margin-left: auto;
            display: flex;
            gap: 8px;
        }

        .control-btn {
            width: 32px;
            height: 32px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .message {
            display: flex;
            gap: 12px;
            max-width: 85%;
        }

        .message.user {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .message.bot .message-avatar {
            background: linear-gradient(135deg, #d41528 0%, #b91c3c 100%);
            color: white;
        }

        .message.user .message-avatar {
            background: rgba(255, 255, 255, 0.1);
            color: #64748b;
        }

        .message-content {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 12px 16px;
            font-size: 14px;
            line-height: 1.5;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, #d41528 0%, #b91c3c 100%);
            border-color: #d41528;
            color: white;
        }

        .message-time {
            font-size: 11px;
            color: #64748b;
            margin-top: 4px;
        }

        .expert-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }

        .action-chip {
            background: rgba(212, 21, 40, 0.1);
            border: 1px solid rgba(212, 21, 40, 0.3);
            border-radius: 20px;
            padding: 6px 12px;
            font-size: 12px;
            color: #d41528;
            cursor: pointer;
            transition: all 0.2s;
        }

        .action-chip:hover {
            background: rgba(212, 21, 40, 0.2);
        }

        .typing-indicator {
            display: flex;
            gap: 12px;
            align-items: center;
            margin-bottom: 16px;
            display: none;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dot {
            width: 6px;
            height: 6px;
            background: #d41528;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        .chat-input-container {
            padding: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .input-wrapper {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 12px;
        }

        .chat-input {
            flex: 1;
            background: none;
            border: none;
            color: white;
            font-size: 14px;
            outline: none;
        }

        .chat-input::placeholder {
            color: #64748b;
        }

        .input-btn {
            width: 32px;
            height: 32px;
            background: none;
            border: none;
            color: #64748b;
            cursor: pointer;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .input-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .send-btn {
            background: linear-gradient(135deg, #d41528 0%, #b91c3c 100%);
            color: white;
        }

        .send-btn:hover {
            background: linear-gradient(135deg, #b91c3c 0%, #991b1b 100%);
        }

        /* Quick Actions */
        .quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }

        .quick-action {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 12px;
            color: #64748b;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .quick-action:hover {
            background: rgba(212, 21, 40, 0.1);
            border-color: rgba(212, 21, 40, 0.3);
            color: #d41528;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .chat-window {
                width: calc(100vw - 48px);
                height: calc(100vh - 140px);
                bottom: 100px;
                right: 24px;
                left: 24px;
            }

            .hero-title {
                font-size: 32px;
            }

            .metrics-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Alert System */
        .alert-panel {
            position: fixed;
            top: 80px;
            right: 24px;
            width: 320px;
            background: rgba(239, 68, 68, 0.95);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 12px;
            padding: 16px;
            backdrop-filter: blur(10px);
            z-index: 999;
            display: none;
        }

        .alert-title {
            font-size: 14px;
            font-weight: 600;
            color: white;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .alert-content {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.4;
        }

        /* Advanced Features Panel */
        .features-panel {
            position: fixed;
            top: 80px;
            left: 24px;
            width: 300px;
            background: rgba(15, 20, 25, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            backdrop-filter: blur(10px);
            z-index: 998;
            display: none;
            max-height: 500px;
            overflow-y: auto;
        }

        .features-header {
            padding: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .features-title {
            font-size: 16px;
            font-weight: 600;
            color: white;
        }

        .features-close {
            background: none;
            border: none;
            color: #64748b;
            cursor: pointer;
            font-size: 18px;
        }

        .feature-item {
            padding: 12px 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .feature-item:hover {
            background: rgba(212, 21, 40, 0.1);
        }

        .feature-icon {
            width: 32px;
            height: 32px;
            background: rgba(212, 21, 40, 0.2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #d41528;
        }

        .feature-info h4 {
            font-size: 14px;
            font-weight: 500;
            color: white;
            margin-bottom: 2px;
        }

        .feature-info p {
            font-size: 12px;
            color: #64748b;
        }

        /* Network Topology Visualization */
        .network-topology {
            width: 100%;
            height: 300px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            margin: 16px 0;
            position: relative;
            overflow: hidden;
        }

        .topology-node {
            position: absolute;
            width: 40px;
            height: 40px;
            background: #d41528;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .topology-node:hover {
            transform: scale(1.2);
            box-shadow: 0 0 20px rgba(212, 21, 40, 0.6);
        }

        .topology-node.critical {
            background: #ef4444;
            animation: pulse-red 2s infinite;
        }

        .topology-node.warning {
            background: #f59e0b;
        }

        .topology-node.normal {
            background: #22c55e;
        }

        @keyframes pulse-red {
            0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
            50% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
        }

        .topology-connection {
            position: absolute;
            height: 2px;
            background: rgba(255, 255, 255, 0.3);
            transform-origin: left center;
        }

        .topology-connection.active {
            background: #22c55e;
            animation: data-flow 2s infinite;
        }

        .topology-connection.congested {
            background: #f59e0b;
        }

        .topology-connection.failed {
            background: #ef4444;
            animation: blink 1s infinite;
        }

        @keyframes data-flow {
            0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); }
            50% { box-shadow: 0 0 0 3px rgba(34, 197, 94, 0); }
            100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }

        /* Performance Charts */
        .chart-container {
            width: 100%;
            height: 200px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            margin: 16px 0;
            position: relative;
            overflow: hidden;
        }

        .chart-line {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to top, rgba(212, 21, 40, 0.3) 0%, rgba(212, 21, 40, 0) 100%);
        }

        /* Command Terminal */
        .terminal-container {
            background: #000000;
            border-radius: 8px;
            margin: 16px 0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        }

        .terminal-header {
            background: #333333;
            padding: 8px 16px;
            border-radius: 8px 8px 0 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .terminal-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .terminal-dot.red { background: #ff5f56; }
        .terminal-dot.yellow { background: #ffbd2e; }
        .terminal-dot.green { background: #27ca3f; }

        .terminal-content {
            padding: 16px;
            color: #00ff00;
            font-size: 12px;
            line-height: 1.4;
            max-height: 200px;
            overflow-y: auto;
        }

        .terminal-prompt {
            color: #00ff00;
        }

        .terminal-command {
            color: #ffffff;
        }

        .terminal-output {
            color: #cccccc;
            margin-left: 20px;
        }

        /* Security Dashboard */
        .security-widget {
            background: rgba(15, 20, 25, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }

        .security-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
        }

        .security-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .security-level {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .security-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .security-indicator.high { background: #22c55e; }
        .security-indicator.medium { background: #f59e0b; }
        .security-indicator.low { background: #ef4444; }

        /* AI Analysis Panel */
        .ai-analysis {
            background: linear-gradient(135deg, rgba(212, 21, 40, 0.1) 0%, rgba(0, 0, 0, 0.3) 100%);
            border: 1px solid rgba(212, 21, 40, 0.3);
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }

        .ai-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
        }

        .ai-brain {
            animation: ai-pulse 3s infinite;
        }

        @keyframes ai-pulse {
            0%, 100% { color: #d41528; }
            50% { color: #ff6b7a; }
        }

        .ai-insights {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .ai-insight {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 6px;
        }

        .insight-icon {
            color: #d41528;
        }

        .insight-text {
            font-size: 12px;
            color: #cccccc;
        }

        /* Advanced Controls */
        .advanced-controls {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 16px 0;
        }

        .control-button {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px;
            color: white;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .control-button:hover {
            background: rgba(212, 21, 40, 0.1);
            border-color: rgba(212, 21, 40, 0.3);
        }

        .control-icon {
            font-size: 24px;
            color: #d41528;
        }

        .control-label {
            font-size: 12px;
            text-align: center;
        }

        /* Notification System */
        .notification-center {
            position: fixed;
            top: 80px;
            right: 360px;
            width: 300px;
            max-height: 400px;
            background: rgba(15, 20, 25, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            backdrop-filter: blur(10px);
            z-index: 997;
            display: none;
            overflow-y: auto;
        }

        .notification-item {
            padding: 12px 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .notification-icon {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .notification-icon.critical {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        .notification-icon.warning {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
        }

        .notification-icon.info {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
        }

        .notification-content h5 {
            font-size: 13px;
            font-weight: 500;
            color: white;
            margin-bottom: 4px;
        }

        .notification-content p {
            font-size: 11px;
            color: #64748b;
            line-height: 1.3;
        }

        .notification-time {
            font-size: 10px;
            color: #64748b;
            margin-top: 4px;
        }
    </style>
</head>
<body>
    <!-- Fixed Header -->
    <div class="header-fixed">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo-img">C</div>
                <div class="brand-info">
                    <h1>Sistema Core Enterprise</h1>
                    <p>Plataforma de IA Especializada</p>
                </div>
            </div>
            <div class="system-status">
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span>Sistema Operativo</span>
                </div>
                <button class="control-btn" id="features-btn" title="Funciones Avanzadas">
                    <i class="fas fa-th-large"></i>
                </button>
                <button class="control-btn" id="notifications-btn" title="Notificaciones">
                    <i class="fas fa-bell"></i>
                    <div class="notification-badge">3</div>
                </button>
            </div>
        </div>
    </div>

    <!-- Alert Panel -->
    <div class="alert-panel" id="alert-panel">
        <div class="alert-title">
            <i class="fas fa-exclamation-triangle"></i>
            Alerta Cr√≠tica del Sistema
        </div>
        <div class="alert-content">
            Se han detectado 3 alarmas cr√≠ticas en los √∫ltimos 5 minutos. Consulte el dashboard para m√°s detalles.
        </div>
    </div>

    <!-- Advanced Features Panel -->
    <div class="features-panel" id="features-panel">
        <div class="features-header">
            <span class="features-title">üöÄ Funciones Avanzadas</span>
            <button class="features-close" id="features-close">&times;</button>
        </div>
        <div class="feature-item" data-feature="topology">
            <div class="feature-icon">
                <i class="fas fa-project-diagram"></i>
            </div>
            <div class="feature-info">
                <h4>Topolog√≠a de Red</h4>
                <p>Visualizaci√≥n en tiempo real</p>
            </div>
        </div>
        <div class="feature-item" data-feature="analytics">
            <div class="feature-icon">
                <i class="fas fa-chart-area"></i>
            </div>
            <div class="feature-info">
                <h4>Analytics Avanzado</h4>
                <p>Gr√°ficos de rendimiento</p>
            </div>
        </div>
        <div class="feature-item" data-feature="terminal">
            <div class="feature-icon">
                <i class="fas fa-terminal"></i>
            </div>
            <div class="feature-info">
                <h4>Terminal SSH</h4>
                <p>Acceso directo a servidores</p>
            </div>
        </div>
        <div class="feature-item" data-feature="security">
            <div class="feature-icon">
                <i class="fas fa-shield-alt"></i>
            </div>
            <div class="feature-info">
                <h4>Security Center</h4>
                <p>Monitoreo de seguridad 24/7</p>
            </div>
        </div>
        <div class="feature-item" data-feature="ai-analysis">
            <div class="feature-icon">
                <i class="fas fa-brain"></i>
            </div>
            <div class="feature-info">
                <h4>An√°lisis con IA</h4>
                <p>Insights predictivos</p>
            </div>
        </div>
        <div class="feature-item" data-feature="automation">
            <div class="feature-icon">
                <i class="fas fa-cogs"></i>
            </div>
            <div class="feature-info">
                <h4>Automatizaci√≥n</h4>
                <p>Scripts y workflows</p>
            </div>
        </div>
    </div>

    <!-- Notification Center -->
    <div class="notification-center" id="notification-center">
        <div class="features-header">
            <span class="features-title">üîî Notificaciones</span>
            <button class="features-close" id="notifications-close">&times;</button>
        </div>
        <div class="notification-item">
            <div class="notification-icon critical">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div class="notification-content">
                <h5>Alarma Cr√≠tica - Router Principal</h5>
                <p>Latencia elevada detectada en el enlace troncal. Escalamiento autom√°tico iniciado.</p>
                <div class="notification-time">Hace 2 minutos</div>
            </div>
        </div>
        <div class="notification-item">
            <div class="notification-icon warning">
                <i class="fas fa-exclamation"></i>
            </div>
            <div class="notification-content">
                <h5>Mantenimiento Programado</h5>
                <p>Actualizaci√≥n de firmware en servidores secundarios programada para las 02:00 AM.</p>
                <div class="notification-time">Hace 15 minutos</div>
            </div>
        </div>
        <div class="notification-item">
            <div class="notification-icon info">
                <i class="fas fa-info-circle"></i>
            </div>
            <div class="notification-content">
                <h5>Backup Completado</h5>
                <p>Respaldo autom√°tico de base de datos completado exitosamente. 2.3 GB procesados.</p>
                <div class="notification-time">Hace 1 hora</div>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <div class="hero-section">
            <h1 class="hero-title">Centro de Operaciones Core</h1>
            <p class="hero-subtitle">Sistema de Inteligencia Artificial para Gesti√≥n Empresarial Avanzada</p>
        </div>

        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-value">99.9%</div>
                <div class="metric-label">Disponibilidad del Sistema</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">24/7</div>
                <div class="metric-label">Monitoreo Continuo</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">15ms</div>
                <div class="metric-label">Latencia Promedio</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">847</div>
                <div class="metric-label">Incidentes Resueltos</div>
            </div>
        </div>
    </div>

    <!-- Chat Bubble -->
    <div class="chat-bubble" id="chat-bubble">
        <i class="fas fa-robot"></i>
        <div class="notification-badge">1</div>
    </div>

    <!-- Chat Window -->
    <div class="chat-window" id="chat-window">
        <div class="chat-header">
            <div class="chat-avatar">
                <i class="fas fa-robot"></i>
            </div>
            <div class="chat-title-section">
                <h3>Asistente Core Enterprise</h3>
                <p>IA Especializada ‚Ä¢ Nivel Expert</p>
            </div>
            <div class="chat-controls">
                <button class="control-btn" id="minimize-btn">
                    <i class="fas fa-window-minimize"></i>
                </button>
                <button class="control-btn" id="close-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>

        <div class="chat-messages" id="chat-messages">
            <div class="message bot">
                <div class="message-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-content">
                    <strong>üöÄ Bienvenido al Sistema Core Enterprise</strong><br><br>
                    Soy tu asistente de IA especializado con acceso a sistemas cr√≠ticos de Claro Colombia. Puedo ayudarte con:
                    <div class="expert-actions">
                        <div class="action-chip" data-action="alarmas">
                            <i class="fas fa-exclamation-triangle"></i> An√°lisis de Alarmas
                        </div>
                        <div class="action-chip" data-action="incidentes">
                            <i class="fas fa-chart-line"></i> Dashboard Incidentes
                        </div>
                        <div class="action-chip" data-action="documentacion">
                            <i class="fas fa-book-open"></i> Base Conocimiento
                        </div>
                        <div class="action-chip" data-action="monitoreo">
                            <i class="fas fa-radar"></i> Monitoreo Predictivo
                        </div>
                    </div>
                    <div class="message-time">Ahora</div>
                </div>
            </div>
        </div>

        <div class="typing-indicator" id="typing-indicator">
            <div class="message-avatar">
                <i class="fas fa-robot"></i>
            </div>
            <div class="typing-dots">
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            </div>
        </div>

        <div class="chat-input-container">
            <div class="input-wrapper">
                <button class="input-btn">
                    <i class="fas fa-paperclip"></i>
                </button>
                <input type="text" class="chat-input" id="chat-input" placeholder="Describe tu consulta t√©cnica o emergencia...">
                <button class="input-btn">
                    <i class="fas fa-microphone"></i>
                </button>
                <button class="input-btn send-btn" id="send-btn">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
            <div class="quick-actions">
                <div class="quick-action" data-quick="alarmas-criticas">
                    <i class="fas fa-fire"></i> Alarmas Cr√≠ticas
                </div>
                <div class="quick-action" data-quick="estado-red">
                    <i class="fas fa-network-wired"></i> Estado Red
                </div>
                <div class="quick-action" data-quick="reportes">
                    <i class="fas fa-chart-bar"></i> Generar Reporte
                </div>
            </div>
        </div>
    </div>

    <script>
        // Chat functionality
        const chatBubble = document.getElementById('chat-bubble');
        const chatWindow = document.getElementById('chat-window');
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const sendBtn = document.getElementById('send-btn');
        const typingIndicator = document.getElementById('typing-indicator');
        const closeBtn = document.getElementById('close-btn');
        const minimizeBtn = document.getElementById('minimize-btn');
        const alertPanel = document.getElementById('alert-panel');

        // Expert responses database
        const expertResponses = {
            'alarmas': {
                response: 'üî¥ **An√°lisis de Alarmas Cr√≠ticas**\n\nHe detectado las siguientes alarmas activas:\n\n‚Ä¢ **ALM-001**: Latencia elevada en Core Network (>150ms)\n‚Ä¢ **ALM-002**: Uso de CPU cr√≠tico en servidor principal (>85%)\n‚Ä¢ **ALM-003**: P√©rdida de paquetes en enlace troncal (>2%)\n\n¬øDeseas que inicie el protocolo de escalamiento autom√°tico?',
                actions: ['Ver Detalles', 'Escalar Incidente', 'Generar Reporte']
            },
            'incidentes': {
                response: 'üìä **Dashboard de Incidentes - Tiempo Real**\n\n**√öltimas 24 horas:**\n‚Ä¢ Incidentes cr√≠ticos: 3\n‚Ä¢ Incidentes resueltos: 15\n‚Ä¢ MTTR promedio: 12 min\n‚Ä¢ Disponibilidad: 99.94%\n\n**Top incidentes por frecuencia:**\n1. Congesti√≥n de red (35%)\n2. Fallos de hardware (28%)\n3. Problemas de conectividad (22%)',
                actions: ['Ver Dashboard', 'An√°lisis Predictivo', 'Exportar Datos']
            },
            'documentacion': {
                response: 'üìö **Base de Conocimiento Neural**\n\nAcceso a documentaci√≥n t√©cnica especializada:\n\n‚Ä¢ **Protocolos de Red**: 847 documentos\n‚Ä¢ **Procedures SOP**: 156 procedimientos\n‚Ä¢ **Troubleshooting**: 423 gu√≠as\n‚Ä¢ **APIs y Integraciones**: 89 referencias\n\n¬øQu√© tipo de documentaci√≥n necesitas consultar?',
                actions: ['Buscar Protocolo', 'SOP Cr√≠ticos', 'Gu√≠as T√©cnicas']
            },
            'monitoreo': {
                response: 'üéØ **Sistema de Monitoreo Predictivo**\n\n**An√°lisis ML en tiempo real:**\n‚Ä¢ Predicci√≥n de fallos: 94.2% precisi√≥n\n‚Ä¢ Alertas preventivas: 23 activas\n‚Ä¢ Capacidad de red: 67% utilizada\n‚Ä¢ Tendencia de carga: Estable (+2.1%)\n\n**Recomendaciones IA:**\n‚Ä¢ Optimizar rutas de tr√°fico\n‚Ä¢ Escalar recursos en 2h\n‚Ä¢ Verificar enlaces redundantes',
                actions: ['Ver Predicciones', 'Configurar Alertas', 'Optimizar Sistema']
            }
        };

        // Quick responses for common queries
        const quickResponses = {
            'alarmas-criticas': 'Consultando alarmas cr√≠ticas del sistema...',
            'estado-red': 'Verificando estado actual de la red...',
            'reportes': 'Generando reporte ejecutivo...'
        };

        // Chat bubble click
        chatBubble.addEventListener('click', () => {
            chatWindow.style.display = 'flex';
            chatBubble.style.display = 'none';
            chatInput.focus();
        });

        // Close chat
        closeBtn.addEventListener('click', () => {
            chatWindow.style.display = 'none';
            chatBubble.style.display = 'flex';
        });

        // Minimize chat
        minimizeBtn.addEventListener('click', () => {
            chatWindow.style.display = 'none';
            chatBubble.style.display = 'flex';
        });

        // Send message
        function sendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;

            addMessage(message, 'user');
            chatInput.value = '';
            
            showTyping();
            setTimeout(() => {
                hideTyping();
                processMessage(message);
            }, 1500);
        }

        sendBtn.addEventListener('click', sendMessage);
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });

        // Add message to chat
        function addMessage(content, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.innerHTML = sender === 'bot' ? '<i class="fas fa-robot"></i>' : '<i class="fas fa-user"></i>';
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            contentDiv.innerHTML = content.replace(/\n/g, '<br>');
            
            const timeDiv = document.createElement('div');
            timeDiv.className = 'message-time';
            timeDiv.textContent = new Date().toLocaleTimeString();
            
            contentDiv.appendChild(timeDiv);
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(contentDiv);
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Process user message
        function processMessage(message) {
            const lowerMessage = message.toLowerCase();
            let response = '';
            let actions = [];

            // Expert system logic
            if (lowerMessage.includes('alarma') || lowerMessage.includes('alert')) {
                response = expertResponses.alarmas.response;
                actions = expertResponses.alarmas.actions;
            } else if (lowerMessage.includes('incidente') || lowerMessage.includes('dashboard')) {
                response = expertResponses.incidentes.response;
                actions = expertResponses.incidentes.actions;
            } else if (lowerMessage.includes('documentacion') || lowerMessage.includes('documento') || lowerMessage.includes('manual')) {
                response = expertResponses.documentacion.response;
                actions = expertResponses.documentacion.actions;
            } else if (lowerMessage.includes('monitoreo') || lowerMessage.includes('predictivo') || lowerMessage.includes('prediccion')) {
                response = expertResponses.monitoreo.response;
                actions = expertResponses.monitoreo.actions;
            } else if (lowerMessage.includes('estado') || lowerMessage.includes('status')) {
                response = '‚úÖ **Estado del Sistema Core**\n\n‚Ä¢ Servidores principales: Operativos\n‚Ä¢ Base de datos: Sincronizada\n‚Ä¢ Red troncal: Estable\n‚Ä¢ APIs: Respondiendo (avg 45ms)\n‚Ä¢ √öltimo backup: Completado (02:15 AM)\n\nTodos los sistemas funcionando dentro de par√°metros normales.';
                actions = ['Ver M√©tricas', 'Historial Estado', 'Configurar Alertas'];
            } else {
                response = 'ü§ñ **Asistente Core Enterprise**\n\nHe procesado tu consulta. Como sistema experto, puedo ayudarte con:\n\n‚Ä¢ An√°lisis t√©cnico de alarmas y eventos\n‚Ä¢ Gesti√≥n de incidentes cr√≠ticos\n‚Ä¢ Consulta de documentaci√≥n especializada\n‚Ä¢ Monitoreo predictivo y optimizaci√≥n\n‚Ä¢ Generaci√≥n de reportes ejecutivos\n\n¬øEn qu√© √°rea espec√≠fica necesitas asistencia?';
                actions = ['Consultar Alarmas', 'Ver Incidentes', 'Buscar Documentos'];
            }

            addBotMessageWithActions(response, actions);
        }

        // Add bot message with action buttons
        function addBotMessageWithActions(content, actions) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message bot';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.innerHTML = '<i class="fas fa-robot"></i>';
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            contentDiv.innerHTML = content.replace(/\n/g, '<br>');
            
            if (actions.length > 0) {
                const actionsDiv = document.createElement('div');
                actionsDiv.className = 'expert-actions';
                
                actions.forEach(action => {
                    const actionBtn = document.createElement('div');
                    actionBtn.className = 'action-chip';
                    actionBtn.textContent = action;
                    actionBtn.addEventListener('click', () => {
                        handleActionClick(action);
                    });
                    actionsDiv.appendChild(actionBtn);
                });
                
                contentDiv.appendChild(actionsDiv);
            }
            
            const timeDiv = document.createElement('div');
            timeDiv.className = 'message-time';
            timeDiv.textContent = new Date().toLocaleTimeString();
            
            contentDiv.appendChild(timeDiv);
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(contentDiv);
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Handle action button clicks
        function handleActionClick(action) {
            const actionResponses = {
                'Ver Detalles': 'üìã **Detalles de Alarma ALM-001**\n\n**Timestamp:** 2025-01-25 14:32:15\n**Severity:** Critical\n**Affected Systems:** Core Network Router-03\n**Impact:** 15,000 usuarios afectados\n**Root Cause:** Congesti√≥n en enlace principal\n**Recommended Action:** Activar ruta de respaldo inmediatamente\n\n**Status:** Escalado a NOC Level 2',
                'Escalar Incidente': 'üö® **Incidente Escalado**\n\nINC-2025-0125-001 creado autom√°ticamente\n‚Ä¢ Prioridad: P1 - Critical\n‚Ä¢ Asignado a: NOC Senior Team\n‚Ä¢ SLA: 15 minutos para resoluci√≥n\n‚Ä¢ Notificaciones enviadas a stakeholders\n\n**Next Steps:** Monitoreo cada 2 minutos hasta resoluci√≥n',
                'Generar Reporte': 'üìÑ **Reporte Ejecutivo Generado**\n\nReporte_Core_Systems_20250125.pdf\n‚Ä¢ Executive Summary\n‚Ä¢ Impacto en SLA\n‚Ä¢ An√°lisis de causa ra√≠z\n‚Ä¢ Plan de acci√≥n correctiva\n‚Ä¢ Recomendaciones preventivas\n\n**Status:** Enviado a directores t√©cnicos',
                'Ver Dashboard': 'üìä Redirigiendo al Dashboard de Incidentes en tiempo real...',
                'An√°lisis Predictivo': 'üîÆ **An√°lisis Predictivo ML**\n\n**Predicciones pr√≥ximas 4 horas:**\n‚Ä¢ 78% probabilidad de congesti√≥n en Router-05\n‚Ä¢ 23% riesgo de fallo en DB-Primary\n‚Ä¢ 45% chance de escalamiento autom√°tico\n\n**Recomendaci√≥n IA:** Implementar balanceeo preventivo',
                'Exportar Datos': 'üíæ Preparando exportaci√≥n de datos hist√≥ricos...\nFormato: CSV, JSON, Excel\nPeriodo: √öltimos 30 d√≠as\nTama√±o estimado: 2.3 MB',
                'Buscar Protocolo': 'üîç **Motor de B√∫squeda Neural**\n\nIngrese t√©rminos de b√∫squeda:\n‚Ä¢ Protocolo espec√≠fico\n‚Ä¢ C√≥digo de procedimiento\n‚Ä¢ Palabra clave t√©cnica\n\n**B√∫squedas recientes:**\n- BGP routing protocols\n- Emergency escalation SOP\n- Network failover procedures',
                'SOP Cr√≠ticos': '‚ö° **Procedimientos SOP Cr√≠ticos**\n\n1. **SOP-001**: Emergency Network Isolation\n2. **SOP-015**: Critical System Recovery\n3. **SOP-023**: Data Center Evacuation\n4. **SOP-031**: Cyber Security Incident\n5. **SOP-044**: Service Degradation Response\n\nTodos disponibles 24/7 con acceso inmediato',
                'Gu√≠as T√©cnicas': 'üõ†Ô∏è **Gu√≠as de Troubleshooting**\n\n**Categor√≠as disponibles:**\n‚Ä¢ Network Connectivity (89 gu√≠as)\n‚Ä¢ Server Performance (67 gu√≠as)\n‚Ä¢ Database Issues (45 gu√≠as)\n‚Ä¢ Security Incidents (34 gu√≠as)\n‚Ä¢ Hardware Failures (78 gu√≠as)\n\n¬øQu√© categor√≠a necesitas consultar?',
                'Ver Predicciones': 'üéØ **Predicciones Avanzadas del Sistema**\n\n**An√°lisis Machine Learning:**\n‚Ä¢ Modelo entrenado con 2.3M eventos\n‚Ä¢ Precisi√≥n actual: 94.2%\n‚Ä¢ Falsos positivos: <3%\n\n**Alertas Predictivas Activas:**\n- Router-07: Posible fallo en 3.2 horas\n- DB-Cluster: Degradaci√≥n en 8.5 horas\n- Link-Trunk-02: Saturaci√≥n en 45 min',
                'Configurar Alertas': '‚öôÔ∏è **Configuraci√≥n de Alertas Inteligentes**\n\n**Niveles disponibles:**\n‚Ä¢ Critical: < 5 min response\n‚Ä¢ High: < 15 min response\n‚Ä¢ Medium: < 1 hour response\n‚Ä¢ Low: Next business day\n\n**Canales de notificaci√≥n:**\n‚úÖ Email ‚Ä¢ ‚úÖ SMS ‚Ä¢ ‚úÖ Teams ‚Ä¢ ‚úÖ Slack',
                'Optimizar Sistema': 'üöÄ **Optimizaci√≥n Autom√°tica del Sistema**\n\n**Analizando patrones de tr√°fico...**\n‚Ä¢ Reasignando recursos din√°micamente\n‚Ä¢ Optimizando rutas de red\n‚Ä¢ Balanceando carga de servidores\n‚Ä¢ Ajustando par√°metros de QoS\n\n**Resultado:** +12% mejora en rendimiento\n**ETA:** Optimizaci√≥n completa en 8 minutos',
                'Ver M√©tricas': 'üìà **M√©tricas del Sistema en Tiempo Real**\n\n**Performance KPIs:**\n‚Ä¢ Throughput: 847 Mbps (Normal)\n‚Ä¢ Response Time: 42ms (Optimal)\n‚Ä¢ Error Rate: 0.003% (Excellent)\n‚Ä¢ Availability: 99.97% (Target: 99.9%)\n\n**Trending:** Todos los indicadores dentro de rangos √≥ptimos',
                'Historial Estado': 'üìö **Historial de Estado del Sistema**\n\n**√öltimos 7 d√≠as:**\n‚Ä¢ Uptime total: 99.94%\n‚Ä¢ Incidents: 2 (ambos resueltos)\n‚Ä¢ Mantenimientos: 1 programado\n‚Ä¢ Peak traffic: 1.2 Gbps\n\n**Comparativa mensual:** +0.12% mejora vs mes anterior',
                'Consultar Alarmas': 'Iniciando consulta avanzada de alarmas cr√≠ticas...',
                'Ver Incidentes': 'Accediendo al sistema de gesti√≥n de incidentes...',
                'Buscar Documentos': 'Activando motor de b√∫squeda de documentaci√≥n t√©cnica...'
            };

            if (actionResponses[action]) {
                showTyping();
                setTimeout(() => {
                    hideTyping();
                    addMessage(actionResponses[action], 'bot');
                }, 1000);
            }
        }

        // Action chip clicks from welcome message
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('action-chip')) {
                const action = e.target.dataset.action;
                if (action && expertResponses[action]) {
                    showTyping();
                    setTimeout(() => {
                        hideTyping();
                        addBotMessageWithActions(expertResponses[action].response, expertResponses[action].actions);
                    }, 1200);
                }
            }
            
            if (e.target.classList.contains('quick-action')) {
                const quickAction = e.target.dataset.quick;
                if (quickAction && quickResponses[quickAction]) {
                    addMessage(quickResponses[quickAction], 'user');
                    showTyping();
                    setTimeout(() => {
                        hideTyping();
                        processMessage(quickAction.replace('-', ' '));
                    }, 1000);
                }
            }
        });

        // Typing indicator
        function showTyping() {
            typingIndicator.style.display = 'flex';
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function hideTyping() {
            typingIndicator.style.display = 'none';
        }

        // Simulate system alerts
        function showAlert() {
            alertPanel.style.display = 'block';
            setTimeout(() => {
                alertPanel.style.display = 'none';
            }, 8000);
        }

        // Auto-show alert after 10 seconds
        setTimeout(showAlert, 10000);

        // Advanced chat features
        function initializeExpertFeatures() {
            // Auto-complete suggestions
            const suggestions = [
                'Consultar alarmas cr√≠ticas del sistema',
                'Generar reporte de incidentes',
                'Estado actual de la red troncal',
                'An√°lisis predictivo de fallos',
                'Documentaci√≥n de protocolos BGP',
                'Escalamiento autom√°tico de recursos',
                'Optimizaci√≥n de rendimiento',
                'Configurar alertas preventivas'
            ];

            // Simulate intelligent suggestions
            chatInput.addEventListener('input', (e) => {
                const value = e.target.value.toLowerCase();
                if (value.length > 3) {
                    // Here you would show intelligent suggestions
                    // Implementation depends on your UI framework
                }
            });

            // Advanced keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    chatInput.focus();
                }
                if (e.key === 'Escape') {
                    if (chatWindow.style.display === 'flex') {
                        chatWindow.style.display = 'none';
                        chatBubble.style.display = 'flex';
                    }
                }
            });
        }

        // Initialize expert system
        initializeExpertFeatures();

        // Simulate real-time updates
        function simulateRealTimeUpdates() {
            const metrics = document.querySelectorAll('.metric-value');
            setInterval(() => {
                metrics.forEach(metric => {
                    if (metric.textContent.includes('%')) {
                        const currentValue = parseFloat(metric.textContent);
                        const variation = (Math.random() - 0.5) * 0.2;
                        const newValue = Math.max(99.0, Math.min(100.0, currentValue + variation));
                        metric.textContent = newValue.toFixed(1) + '%';
                    } else if (metric.textContent.includes('ms')) {
                        const currentValue = parseInt(metric.textContent);
                        const variation = Math.floor((Math.random() - 0.5) * 10);
                        const newValue = Math.max(10, Math.min(50, currentValue + variation));
                        metric.textContent = newValue + 'ms';
                    }
                });
            }, 5000);
        }

        // Start real-time simulation
        simulateRealTimeUpdates();

        // Voice recognition simulation
        document.querySelector('.input-btn .fa-microphone').parentElement.addEventListener('click', () => {
            const voiceBtn = document.querySelector('.input-btn .fa-microphone');
            voiceBtn.classList.add('fa-stop');
            voiceBtn.classList.remove('fa-microphone');
            
            setTimeout(() => {
                voiceBtn.classList.remove('fa-stop');
                voiceBtn.classList.add('fa-microphone');
                chatInput.value = 'Consultar estado de alarmas cr√≠ticas del sistema';
                chatInput.focus();
            }, 3000);
        });

        // File attachment simulation
        document.querySelector('.input-btn .fa-paperclip').parentElement.addEventListener('click', () => {
            const fileInput = document.createElement('input');
            fileInput.type = 'file';
            fileInput.accept = '.pdf,.doc,.docx,.txt,.log';
            fileInput.click();
            
            fileInput.onchange = () => {
                if (fileInput.files.length > 0) {
                    const fileName = fileInput.files[0].name;
                    addMessage(`üìé Archivo adjunto: ${fileName}`, 'user');
                    showTyping();
                    setTimeout(() => {
                        hideTyping();
                        addMessage(`‚úÖ **Archivo Procesado**\n\nHe analizado el archivo "${fileName}" con IA avanzada:\n\n‚Ä¢ Tipo: Log de sistema\n‚Ä¢ Tama√±o: ${(fileInput.files[0].size / 1024).toFixed(1)} KB\n‚Ä¢ Eventos detectados: 47\n‚Ä¢ Anomal√≠as encontradas: 3\n\n¬øDeseas que genere un an√°lisis detallado?`, 'bot');
                    }, 2000);
                }
            };
        });

        console.log('üöÄ Sistema Core Enterprise inicializado correctamente');
        console.log('üí° Presiona Ctrl+K para enfocar el chat');
        console.log('üí° Presiona Escape para cerrar el chat');
    </script>
</body>
</html>